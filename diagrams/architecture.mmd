graph TB
    subgraph "Frontend Layer"
        UI[React Frontend]
        WC[Web3 Wallet<br/>MetaMask]
    end
    
    subgraph "Backend Layer"
        API[Express API Server]
        Oracle[Oracle Service]
        DB[(SQLite Database)]
    end
    
    subgraph "Blockchain Layer"
        subgraph "Smart Contracts"
            NFT[InvoiceNFT Contract]
            Fund[Funding Contract]
            Rep[Reputation Registry]
            USDC[MockUSDC Token]
        end
    end
    
    subgraph "External Services"
        GST[GST Verification<br/>Mock]
        ERP[ERP System<br/>Mock]
        LOG[Logistics API<br/>Mock]
        IPFS[IPFS Storage<br/>Mock]
    end
    
    subgraph "Users"
        Supplier[MSME Supplier]
        Buyer[Corporate Buyer]
        Lender[Investor/Lender]
    end
    
    %% User interactions
    Supplier --> UI
    Buyer --> UI
    Lender --> UI
    
    %% Frontend connections
    UI <--> WC
    UI <--> API
    WC <--> NFT
    WC <--> Fund
    WC <--> USDC
    
    %% Backend connections
    API <--> DB
    API <--> Oracle
    Oracle <--> GST
    Oracle <--> ERP
    Oracle <--> LOG
    Oracle <--> IPFS
    
    %% Oracle to blockchain
    Oracle --> NFT
    Oracle --> Fund
    Oracle --> Rep
    
    %% Contract interactions
    NFT <--> Fund
    Fund <--> Rep
    Fund <--> USDC
    
    style UI fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
    style NFT fill:#10b981,stroke:#333,stroke-width:2px,color:#fff
    style Fund fill:#10b981,stroke:#333,stroke-width:2px,color:#fff
    style Rep fill:#10b981,stroke:#333,stroke-width:2px,color:#fff
    style USDC fill:#10b981,stroke:#333,stroke-width:2px,color:#fff
    style Oracle fill:#f59e0b,stroke:#333,stroke-width:2px,color:#fff
    style DB fill:#6b7280,stroke:#333,stroke-width:2px,color:#fff
